<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
</head>
<body>
<py-script>
    def longest_common_substring(s1, s2):
        # go along the first string and search for the longest match
        maxLongest = 0
        offset = 0
        for i in range(0, len(s1)):
            longest = 0
            if ((i == len(s1) - len(s2) - 2)):
                break
            for j in range(0, len(s2)):
                if (i+j < len(s1)):
                    if s1[i+j] == s2[j]:
                        longest = longest + 1
                        if (maxLongest < longest):
                            maxLongest = longest
                            offset = i
                    else:
                        break
                else:
                    break
        return maxLongest, offset

    def encode_lz78(text):
        dictionary = dict()
        i = 0
        index = 1
        encodedNumbers = []
        encodedLetters = []
        while i < len(text):
            stringToBeSaved = text[i]
            indexInDictionary = 0
            while stringToBeSaved in dictionary:
                indexInDictionary = dictionary[stringToBeSaved]
                if (i == len(text) - 1):
                    stringToBeSaved = " "
                    break
                i = i + 1
                stringToBeSaved = stringToBeSaved + text[i]
            #print ("<{0}, {1}>".format(indexInDictionary, stringToBeSaved[len(stringToBeSaved) - 1]))
            encodedNumbers.append(indexInDictionary)
            encodedLetters.append(stringToBeSaved[len(stringToBeSaved) - 1])
            if (stringToBeSaved not in dictionary):
                dictionary[stringToBeSaved] = index
                index = index + 1
            i = i + 1

        return encodedNumbers, encodedLetters, dictionary

    def decode_lz78(encodedNumbers, encodedLetters, dictionary):
        decoded = ""
        i = 0
        while i < len(encodedNumbers):
            if (encodedNumbers[i] != 0):
                decoded += str(list(dictionary.keys())[list(dictionary.values()).index(encodedNumbers[i])])
            decoded+=(encodedLetters[i])
            i = i+1
        return decoded

    if __name__ == "__main__":
        stringToEncode = "tipp tap tipp tap tippe tippe tipp tap"
        [encodedNumbers, encodedLetters, dictionary] = encode_lz78(stringToEncode)
        for i in range(len(encodedNumbers)):
            print([encodedNumbers[i], encodedLetters[i]])
        print("Decoded string: ", end = "")
        decoded_string = decode_lz78(encodedNumbers, encodedLetters, dictionary)
        print(decoded_string)
</py-script>
</body>
</html>
